# 简单实现一些NAS功能
## 各模块说明
### bin：项目一键启动脚本，用于编译完成后，上传至服务器上，可以将minFS服务整体启动起来
### dataServer:主要提供数据内容存储服务能力，单节点无状态设计，可以横向扩容
### metaServer:主要提供文件系统全局元数据管理，管理dataserver的负载均衡，主备模式运行
### easyClient:一个功能逻辑简单的SDK，用来与metaServer、dataServer通信，完成文件数据操作
课后作业:
minFS 架构图
![img.png](https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202308031146513.png)

动手实现一个拥有最基础的文件操作的分布式文件存储系统
1. 支持文件创建(create、createDirectory)、查看属性信息(listStatus，getStatus)、删除(delete)
2. 支持文件open
3. 支持文件的write
4. 支持文件read
5. 获取集群信息（主节点信息，从节点信息）
6. 可采用http 协议模拟以上文件操作功能
7. 要求按照文件元数据、内容数据的方式存储设计实现，元数据的定义为包含文件的基本信息如文件名、大小、创建、修改时间、内容数据的三副本索引等，内容数据为实际文件内所存储的内容信息
8. 元数据服务高可用，元数据的操作支持分布式的一致性
9. 文件内容数据，可支持3副本写（强一致写）、主副本读（实现读写一致性）
10. 3副本分布可支持合理分区，消除热点
11. 对于一个稳定运行的系统，可以主动发现文件副本不足隐患，同时可以自我修复补足不足3副本的数据
12. 最后运用前几周学习过的的maven打包知识，及Linux下的程序部署所需的shell 脚本等知识，可以将程序部署到服务器上运行起来

考核要求
1. 服务可以通过启动脚本，一键启动
2. 集群规模最小为两个metaServer，一主一从（默认），如果是raft方式实现则最少3个节点，交作业时可特殊说明采用raft实现，四个dataserver，保证三副本写。最终所有程序会部署在一个机器上，通过不同端口号来模拟多节点的部署方式，可选端口范围8000~9999
3. SDK可暴露出来集群的metaServer地址及dataServer地址
4. 系统内相关心跳超时时间一律默认小于30s，如果实现了fsck+recovery，则扫描、恢复周期需要小于等于120s
5. 程序中用到的第三方组件zookeeper，要求可以通过启动参数来指定 如-Dzookeeper.addr=xxxxx:2181,aaaa:2181
6. 最终业务需要编译完成后放入统一目录下，目录名称workpublish，下面的文件目录包括
1.  bin，一键启动所有服务的启动脚本，名称为start.sh
2. metaServer，元数据服务，内部可包含所有服务的lib及主服务jar、日志目录等
3. dataServer，内容数据服务，内部可包含所有服务的lib及主服务jar、日志目录等
4. easyClient，内部包含client的SDK的jar文件easyClient-1.0.jar
